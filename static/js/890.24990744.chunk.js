"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[890],{890:function(n,t,e){e.r(t),e.d(t,{default:function(){return l}});var c=e(439),o=e(791),r=e(87),a=e(689),u=e(617),i=e(184);function f(n){var t=n.handleSerch,e=(0,o.useState)(""),r=(0,c.Z)(e,2),a=r[0],u=r[1];return(0,i.jsx)("header",{children:(0,i.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t(a)},children:[(0,i.jsx)("button",{type:"submit",children:(0,i.jsx)("span",{children:"Search"})}),(0,i.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",onChange:function(n){var t=n.target.value;u(t)},value:a})]})})}var l=function(){var n=(0,o.useState)(""),t=(0,c.Z)(n,2),e=t[0],l=t[1],s=(0,o.useState)([]),h=(0,c.Z)(s,2),d=h[0],p=h[1],m=(0,a.TH)();return(0,o.useEffect)((function(){e&&(0,u.xx)(e).then((function(n){return n.json()})).then((function(n){console.log(n),0===n.results.length&&console.log("Sorry, nothing found"),p(n.results)})).catch((function(n){console.log(n)})).finally((function(){console.log("Search complete")}))}),[e]),(0,i.jsxs)("div",{children:[(0,i.jsx)(f,{handleSerch:function(n){l(n),console.log("Looking for an films")}}),(0,i.jsx)("ul",{children:d.map((function(n){var t=n.id,e=n.title;return(0,i.jsx)(r.rU,{to:"/movies/".concat(t),state:{from:m},children:(0,i.jsx)("li",{children:e})},t)}))})]})}},617:function(n,t,e){e.d(t,{GA:function(){return f},aY:function(){return u},fB:function(){return i},nc:function(){return r},xx:function(){return a}});var c="https://api.themoviedb.org/3/",o="c17d6d199e4f044ab21fca194914f42f",r=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(o))},a=function(n){return fetch("".concat(c,"search/movie?api_key=").concat(o,"&query=").concat(n))},u=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(o))},i=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(o))},f=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(o))}}}]);
//# sourceMappingURL=890.24990744.chunk.js.map