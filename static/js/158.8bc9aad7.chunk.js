"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[158,648],{158:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var c=n(439),r=n(791),o=n(87),a=n(689),u=n(686),i=n.n(u),h=n(648),s=n(617),f={searchbar:"Serchbar_searchbar__RlohG",SearchForm:"Serchbar_SearchForm__sf+OI",SearchForm_button:"Serchbar_SearchForm_button__bNj3t",SearchForm_button_text:"Serchbar_SearchForm_button_text__0w6hA",SearchForm_input:"Serchbar_SearchForm_input__Na9Dp"},l=n(184);function m(t){var e=t.handleSerch,n=(0,r.useState)(""),o=(0,c.Z)(n,2),a=o[0],u=o[1];return(0,l.jsx)("div",{className:f.Searchbar,children:(0,l.jsxs)("form",{className:f.SearchForm,onSubmit:function(t){t.preventDefault(),e(a)},children:[(0,l.jsx)("button",{type:"submit",className:f.SearchForm_button,children:(0,l.jsx)("span",{className:f.SearchForm_button_text,children:"Search"})}),(0,l.jsx)("input",{className:f.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search films",onChange:function(t){var e=t.target.value;u(e)},value:a})]})})}var _=function(){var t=(0,r.useState)(""),e=(0,c.Z)(t,2),n=e[0],u=e[1],f=(0,r.useState)([]),_=(0,c.Z)(f,2),d=_[0],S=_[1],p=(0,a.TH)();return(0,r.useEffect)((function(){n&&(0,s.xx)(n).then((function(t){return t.json()})).then((function(t){console.log(t),0===t.results.length?(console.log("Sorry, nothing found"),i().Notify.warning("Sorry, nothing found")):i().Notify.success("Found something"),S(t.results)})).catch((function(t){i().Notify.failure("".concat(t)),console.log(t)})).finally((function(){console.log("Search complete")}))}),[n]),(0,l.jsxs)("div",{children:[(0,l.jsx)(m,{handleSerch:function(t){u(t),console.log("Looking for an films")}}),0===d.length&&""!==n&&(0,l.jsx)(h.default,{}),d.length>0&&(0,l.jsx)("ul",{children:d.map((function(t){var e=t.id,n=t.title;return(0,l.jsx)(o.rU,{to:"/movies/".concat(e),state:{from:p},children:(0,l.jsx)("li",{children:n})},e)}))})]})}},648:function(t,e,n){n.r(e);var c=n(184);e.default=function(){return(0,c.jsx)("div",{children:(0,c.jsx)("h1",{children:"Sorry, page not found"})})}},617:function(t,e,n){n.d(e,{GA:function(){return h},aY:function(){return u},fB:function(){return i},nc:function(){return o},xx:function(){return a}});var c="https://api.themoviedb.org/3/",r="c17d6d199e4f044ab21fca194914f42f",o=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r))},a=function(t){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(t))},u=function(t){return fetch("".concat(c,"movie/").concat(t,"?api_key=").concat(r))},i=function(t){return fetch("".concat(c,"movie/").concat(t,"/credits?api_key=").concat(r))},h=function(t){return fetch("".concat(c,"movie/").concat(t,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=158.8bc9aad7.chunk.js.map